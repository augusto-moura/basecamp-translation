(function(c){typeof define=="function"&&define.amd?define(c):c()})(function(){"use strict";function c(e){return new Promise(n=>setTimeout(n,e))}function u(e,n){var a=setInterval(()=>{if(document.querySelector(e)){setTimeout(n,400),clearInterval(a);return}},200)}function r(e){return window.bc_trans_map[e]??e}function o(e,n){let a=e.innerHTML;for(i=0;i<n.length;i++){let s=n[i];a=a.replaceAll(s,r(s))}e.innerHTML=a}function t(e,n){document.querySelectorAll(e).forEach(a=>o(a,n))}function d(){return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","January","February","March","April","May","June","July","August","September","October","November","December"]}function m(){document.querySelectorAll("#navigation_readings").forEach(e=>o(e,["See previous notifications…","Nothing new for you."])),document.querySelectorAll("#navigation_readings section.readings--reads").forEach(e=>o(e,["Previous notifications"])),document.querySelectorAll("#navigation_readings section.readings--unreads").forEach(e=>o(e,["New for you","Mark all read"])),document.querySelectorAll("#navigation_readings section.readings--memories h3").forEach(e=>{e.innerHTML=e.innerHTML.replace("Don’t Forget",r("Don't Forget"))}),document.querySelectorAll("#navigation_readings section h4").forEach(e=>{e.innerHTML=e.innerHTML.replace("Completed: ",r("Completed: ")).replace("Overdue: ",r("Overdue: ")).replace("Due soon: ",r("Due soon: ")).replace("Added: ",r("Added: ")).replace("Assigned you: ",r("Assigned you: ")).replace("@mentioned you in:",r("@mentioned you in:")).replace(/In (\d+) hours*: /,r("In $1 hour(s): "))}),document.querySelectorAll("#navigation_readings section.readings--reads footer").forEach(e=>{e.innerHTML=e.innerHTML.replace("See all your previous notifications…",r("See all your previous notifications…"))})}function p(){t("#navigation_my_stuff",["My Assignments","My Bookmarks","My Schedule","My Drafts","My Recent Activity","My Boosts","Recently visited","Boosts For You","Press","for more recent history"])}function h(){t("#navigation_pings",["Start a private chat with…","Recent Pings"]),document.querySelector("#circle_users").focus()}function y(){t("[data-menu-section=search] .expanded_content",["Search for…","Search Everything","by Anyone","Everywhere","Card tables","Chats","Check-ins","Client emails","Comments","Documents","Events","Files","Folders","Forwarded emails","Messages","To-dos"]),document.querySelector("#search_q").focus()}function g(e,n){var a=setInterval(()=>{document.querySelector(e).classList.contains("loading")||(n(),c(400).then(()=>{n(),clearInterval(a)}))},200)}function l(e,n){document.querySelector(e).addEventListener("mousedown",a=>{g(e,n)})}function v(){S(),b(),w(),A(),t(".nav__main .nav__item .nav__link",["Home","Lineup","Pings","Hey!","Activity","My Stuff","Find"]),t(".nav__main .nav__item .nav__link span",["Me"])}function S(){l('[data-load-target="#navigation_readings"]',m)}function b(){l('[data-load-target="#navigation_my_stuff"]',p)}function w(){l('[data-load-target="#navigation_pings"] a.nav__link',h)}function A(){l('li[data-menu-section="search"] a.nav__link',y)}function M(){document.querySelectorAll(".schedule-day__dates").forEach(e=>o(e,["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"])),document.querySelectorAll("table.calendar-grid__table thead th").forEach(e=>o(e,[...d(),...arrayAbbrWeekdays()])),t(".schedule-day__events",["Nothing’s on the schedule"])}function T(){document.querySelectorAll(".project-index__mystuff-header").forEach(e=>o(e,["Your Assignments"])),document.querySelectorAll(".project-index__assignments").forEach(e=>o(e,["Up next –","Stuff due soon and recently assigned","see all"]))}function k(){document.querySelectorAll(".panel-home__buttons").forEach(e=>o(e,["Make a new project","Invite people"])),document.querySelectorAll("header p").forEach(e=>o(e,["Pinned &amp; recent projects below","View all in a list","View templates","Press","anytime to jump"])),document.querySelectorAll("#home_project_cards").forEach(e=>o(e,["Recently visited"])),document.querySelectorAll("section.project-index__mystuff").forEach(e=>o(e,["Your Schedule","A few upcoming events","see all"])),u(".schedule-day:not(.schedule-day--placeholder)",M),u(".project-index__assignments ul li",T)}function j(){t(".action-sheet__content",["Pin project","Unpin project","Switch to just following","Edit project details","Set up tools","Set up people","Save as a project template","Archive or delete","See items in the trash","For developers","Set up webhooks"]),t(".panel--project header",["Set up people","just following"]),t(".latest-activity__project-headline",["Project Activity"]),t(".latest-activity--project .date_divider",["Today","Yesterday",...d()]),t(".door-item",["Open up"])}function E(){t("h1",["Set up tools for this project"]),t(".panel--project-change-tools",["Open a Door to an external service like GitHub, Slack, Trello, etc..."]),t("turbo-frame.card",["Open a Door to an external service like GitHub, Slack, Trello, etc..."]),t("turbo-frame.card .break",["Rename"]),t("turbo-frame.card .dock-toggle__copy-footer",["Add another","Edit door"]),t("turbo-frame.card .dock-toggle__delete-button",["Delete"]),t(".when-no-cards",["Tools you aren’t using","You’ll still receive to-do reminders and notifications about upcoming events, even if the tools are hidden."]),t("footer",["All set, take me back to the project"])}function _(e=!1){let n=f();switch(e&&v(),n){case"/1":case"/1/projects":k();break;case"/1/projects/1":j();break;case"/1/buckets/1/dock/edit":E();break}}function q(){window.bc_trans_route=null,setInterval(()=>{let e=f();if(window.bc_trans_route===null){console.log("primeira página"),_(!0),window.bc_trans_route=e;return}e!=window.bc_trans_route&&(console.log("pagina alterada"),_(!1)),window.bc_trans_route=e},1e3)}function f(){let n=window.location.href.replace("//","");return route=n.substring(n.indexOf("/")).replaceAll(/\d+/g,"1").replace(/\/$/,""),route}var L="pt-BR";window.bc_trans_map=null;var x=chrome.runtime.getURL(`lang/${L}.json`);(function(){fetch(x).then(e=>e.json()).then(e=>{window.bc_trans_map=e}).then(()=>{q()})})()});
